{"ast":null,"code":"var _jsxFileName = \"/Users/cheryl/CS5610/gitRepo/antoinette-cheryl-chang-xu-zitao-shen-assignment3/backend-demo/src/views/MainView.js\",\n    _s = $RefreshSig$();\n\n/**\n * @author Chang Xu\n * @email xu.chang1@northeastern.edu\n * @create date 2021-04-22 23:50:26\n * @modify date 2021-04-23 00:31:25\n */\nimport React, { useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport Card from '../components/Card'; // import uuid from 'react-uuid';\n\nimport { ACTIONS } from '../redux/actions';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst generate = () => {\n  return {\n    type: \"TEXT\",\n    text: \"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. \\n Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.\",\n    url: \"\",\n    title: \"Test Post\",\n    timestamp: new Date().getTime(),\n    // userID: uuid() // Updated on Apr22, no longer needed\n    username: \"post-generator\"\n  };\n};\n\nfunction MainView(props) {\n  _s();\n\n  // WARNING: Only put the following code in App.js.Putting it here causes infinite re-renders.\n  // const dispatch = useDispatch();\n  // dispatch(ACTIONS.getPosts());\n  const posts = useSelector(state => state.posts);\n  const errMsg = useSelector(state => state.errMsg);\n  const loggedInUsername = useSelector(state => state.loggedInUsername);\n  const dispatch = useDispatch();\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container-fluid d-flex flex-column align-items-center\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"login-component my-3\",\n      children: loggedInUsername != null ? /*#__PURE__*/_jsxDEV(\"p\", {\n        children: `${loggedInUsername} has logged in`\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            for: \"usernameInput\",\n            className: \"form-label\",\n            children: \"Username\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 48,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            className: \"form-control\",\n            id: \"usernameInput\",\n            value: username,\n            onChange: e => setUsername(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            for: \"passwordInput\",\n            className: \"form-label\",\n            children: \"Password\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"password\",\n            className: \"form-control\",\n            id: \"passwordInput\",\n            value: password,\n            onChange: e => setPassword(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          className: \"btn btn-primary\",\n          onClick: () => {\n            dispatch(ACTIONS.regularLogin(username, password));\n            setUsername(\"\");\n            setPassword(\"\");\n          },\n          children: \"Log in\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-danger my-2\",\n          children: errMsg\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }, this), // time order: from oldest to newest\n    Object.entries(posts).sort((a, b) => a[1].timestamp - b[1].timestamp).map(([postID, post], index) => {\n      console.log(postID, post);\n      return /*#__PURE__*/_jsxDEV(Card, {\n        postID: postID,\n        post: post\n      }, postID, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 18\n      }, this);\n    }), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"post-generator my-3 post-card\",\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-primary\",\n        type: \"button\",\n        onClick: () => dispatch(ACTIONS.addPost(generate())),\n        children: \"Generate a sample post\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 5\n  }, this);\n}\n\n_s(MainView, \"kLQ7xBMlXPPxM66EzpM58fNej90=\", false, function () {\n  return [useSelector, useSelector, useSelector, useDispatch];\n});\n\n_c = MainView;\nexport default MainView;\n\nvar _c;\n\n$RefreshReg$(_c, \"MainView\");","map":{"version":3,"sources":["/Users/cheryl/CS5610/gitRepo/antoinette-cheryl-chang-xu-zitao-shen-assignment3/backend-demo/src/views/MainView.js"],"names":["React","useState","useDispatch","useSelector","Card","ACTIONS","generate","type","text","url","title","timestamp","Date","getTime","username","MainView","props","posts","state","errMsg","loggedInUsername","dispatch","setUsername","password","setPassword","e","target","value","regularLogin","Object","entries","sort","a","b","map","postID","post","index","console","log","addPost"],"mappings":"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","sourcesContent":["/**\n * @author Chang Xu\n * @email xu.chang1@northeastern.edu\n * @create date 2021-04-22 23:50:26\n * @modify date 2021-04-23 00:31:25\n */\nimport React, { useState } from 'react'\nimport { useDispatch, useSelector } from 'react-redux';\nimport Card from '../components/Card';\n// import uuid from 'react-uuid';\nimport { ACTIONS } from '../redux/actions';\n\nconst generate = () => {\n  return {\n    type: \"TEXT\",\n    text: \"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. \\n Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.\",\n    url: \"\",\n    title: \"Test Post\",\n    timestamp: new Date().getTime(),\n    // userID: uuid() // Updated on Apr22, no longer needed\n    username: \"post-generator\",\n  };\n}\n\nfunction MainView(props) {\n\n  // WARNING: Only put the following code in App.js.Putting it here causes infinite re-renders.\n  // const dispatch = useDispatch();\n  // dispatch(ACTIONS.getPosts());\n\n  const posts = useSelector(state => state.posts);\n  const errMsg = useSelector(state => state.errMsg);\n  const loggedInUsername = useSelector(state => state.loggedInUsername);\n  const dispatch = useDispatch();\n\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n\n  return (\n    <div className=\"container-fluid d-flex flex-column align-items-center\">\n\n      <div className=\"login-component my-3\">\n        {loggedInUsername != null ?\n          <p>{`${loggedInUsername} has logged in`}</p>\n          :\n          <div>\n            <div className=\"mb-3\">\n              <label for=\"usernameInput\" className=\"form-label\">Username</label>\n              <input type=\"text\" className=\"form-control\" id=\"usernameInput\" value={username} onChange={e => setUsername(e.target.value)}/>\n            </div>\n            \n            <div className=\"mb-3\">\n              <label for=\"passwordInput\" className=\"form-label\">Password</label>\n              <input type=\"password\" className=\"form-control\" id=\"passwordInput\" value={password} onChange={e => setPassword(e.target.value)}/>\n            </div>\n\n            <button type=\"button\" className=\"btn btn-primary\" onClick={() => {\n              dispatch(ACTIONS.regularLogin(username, password));\n              setUsername(\"\");\n              setPassword(\"\");\n            }}>Log in</button>\n\n            <p className=\"text-danger my-2\">{errMsg}</p>\n          </div>\n        }\n      </div>\n\n      { // time order: from oldest to newest\n        Object.entries(posts).sort((a, b) => (a[1].timestamp - b[1].timestamp)).map(([postID, post], index) => {\n          console.log(postID, post);\n          return <Card key={postID} postID={postID} post={post}/>\n        })\n      }\n\n      <div className=\"post-generator my-3 post-card\">\n        <button className=\"btn btn-primary\" type=\"button\" onClick={() => dispatch(ACTIONS.addPost(generate()))}>\n          Generate a sample post\n        </button>\n      </div>\n\n    </div>\n  )\n}\n\nexport default MainView;"]},"metadata":{},"sourceType":"module"}